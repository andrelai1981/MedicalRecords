<div class="container mt-3">
    <!-- <button class="btn btn-success" [routerLink]="['/files/new']">
      Create New File
    </button> -->
</div>
<div class="text-center mt-3">
  <h2>Your matches - {{pagination.totalItems}} found</h2>
</div>

<div class="container mt-3">
  <form class="form-inline" #form="ngForm" (ngSubmit) = "loadFiles()" novalidate>
    <div class="form-group px-3">
      <label for="barcodeNum">Barcode #:&nbsp;</label>
      <input type="number" class="form-control ml-1" style="width: 150px" id="barcodeNum" 
        [(ngModel)] = "fileParams.barcodeNum" name="barcodeNum">
    </div> 
    
    <div class="form-group px-3">
      <label for="clientId">Client Id:&nbsp;</label>
      <input type="number" class="form-control ml-1" style="width: 150px" id="clientId" 
        [(ngModel)] = "fileParams.clientId" name="clientId">
    </div> 
  
    <div class="form-group px-3">
      <label for="destroyed">Show Destroyed:&nbsp;</label>
      <select class="form-control ml-1" style="width: 150px" id="destroyed" 
      [(ngModel)] = "fileParams.showDestroyed" name="destroyed">
        <option *ngFor="let destroyedItem of destroyedList" [value] ="destroyedItem.value">
          {{destroyedItem.display}}
        </option>
      </select>
    </div>

    <div class="mt-3">
      <button type="submit" class="btn btn-primary" style="margin-left:10px">Apply Filters</button>
      <button type="button" class="btn btn-info" (click) = "resetFilters()" style="margin-left:10px">Reset Filter</button>
    </div>
  </form>
</div>
<div class="container mt-3">
    <table class="table table-striped">
        <thead>
          <tr>
            <th scope="col">File #</th>
            <th scope="col">Box Barcode #</th>
            <th scope="col">Client Id</th>
            <th scope="col">Client Name</th>
            <th scope="col">Description</th>
            <th scope="col">Destroyed</th>
            <th scope="col"></th>
            <th scope="col"></th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let file of files">
            <td><a [routerLink]="['/files/' + file.fileId + '/edit']">{{file.fileId}}</a></td>
            <td scope="row"><a [routerLink]="['/boxes/', file.boxId]">{{file.barcodeNum}}</a></td>
            <td>{{file.clientId > 0 ? file.clientId : '-' }}</td>
            <td>{{file?.clientName}}</td>
            <td>{{file?.description}}</td>
            <td><div *ngIf="file?.destroyed; else elseBlock">Yes</div></td>
            <ng-template #elseBlock>No</ng-template>
            <td><i *ngIf="file?.destroyed == false"  class="fa fa-trash" (click) = "destroyFile(file.fileId)"></i></td>
            <td><button class="btn btn-primary btn-sm" [routerLink]="['/files/' + file.fileId + '/edit']">Edit File</button></td>
          </tr>
        </tbody>
      </table>
  </div>
  